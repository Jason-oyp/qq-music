!function(o){var s,r,n,t,i=window.player,a=i.audioCtrl,c=i.indexCtrl,u=0;function l(){clearInterval(n),n=setInterval(function(){u+=2,o(".img-container").css({transform:"rotateZ("+u+"deg)",transition:"transform 0.2s"})},200)}t="../mock/data.json",o.ajax({type:"get",url:t,success:function(t){r=(s=t).length,i.render(t[0]),i.process.setAllTime(t[0].duration),a.getAudio(t[0].audio),o("body").on("indexChange",function(t,n){var e=c.getIndex(n,r);a.getAudio(s[e].audio),i.render(s[e]),i.process.setAllTime(s[e].duration),o(".img-container").css({transform:"rotateZ(0deg)",transition:"none"}),u=0,a.status?(a.play(),l()):setTimeout(function(){i.process.stop()},16.7)}),o(".prev").on("click",function(){o("body").trigger("indexChange",-1)}),o(".next").on("click",function(){o("body").trigger("indexChange",1)}),o(".play").on("click",function(){a.status?(a.pause(),i.process.stop(),clearInterval(n)):(a.play(),i.process.start(),l()),o(this).toggleClass("playing")})},error:function(t){console.log(t)}}),a.audio.addEventListener("canplaythrough",function(){i.process.start(0),a.status?(a.play(),l()):setTimeout(function(){i.process.stop()},16.7)},!1)}(window.Zepto);