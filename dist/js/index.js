!function(o){var s,r,n,t,a=window.player,i=a.audioCtrl,c=a.indexCtrl,u=0;function l(){clearInterval(n),n=setInterval(function(){u+=2,o(".img-container").css({transform:"rotateZ("+u+"deg)",transition:"transform 0.2s"})},200)}t="../mock/data.json",o.ajax({type:"get",url:t,success:function(t){r=(s=t).length,a.render(t[0]),a.process.setAllTime(t[0].duration),i.getAudio(t[0].audio),o("body").on("indexChange",function(t,n){var e=c.getIndex(n,r);i.getAudio(s[e].audio),a.render(s[e]),a.process.setAllTime(s[e].duration),o(".img-container").css({transform:"rotateZ(0deg)",transition:"none"}),u=0,a.process.start(0),i.status?(i.play(),l()):setTimeout(function(){a.process.stop()},16.7)}),o(".prev").on("click",function(){o("body").trigger("indexChange",-1)}),o(".next").on("click",function(){o("body").trigger("indexChange",1)}),o(".play").on("click",function(){i.status?(i.pause(),a.process.stop(),clearInterval(n)):(i.play(),a.process.start(),l()),o(this).toggleClass("playing")})},error:function(t){console.log(t)}}),i.audio.addEventListener("canplaythrough",function(){a.process.start(0),i.status?(i.play(),l()):setTimeout(function(){a.process.stop()},16.7)},!1)}(window.Zepto);