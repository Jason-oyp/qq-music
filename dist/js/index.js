!function(o){var r,s,t,n,i=window.player,a=i.audioCtrl,c=i.indexCtrl,l=0;function u(){clearInterval(t),t=setInterval(function(){l+=2,o(".img-container").css({transform:"rotateZ("+l+"deg)",transition:"transform 0.2s"})},200)}n="../mock/data.json",o.ajax({type:"get",url:n,success:function(n){s=(r=n).length,i.render(n[0]),i.process.setAllTime(n[0].duration),a.getAudio(n[0].audio),o("body").on("indexChange",function(n,t){var e=c.getIndex(t,s);a.getAudio(r[e].audio),i.render(r[e]),i.process.setAllTime(r[e].duration),o(".img-container").css({transform:"rotateZ(0deg)",transition:"none"}),l=0,i.process.start(0),a.status?(a.play(),u()):setTimeout(function(){i.process.stop()},16.7)}),o(".prev").on("click",function(){o("body").trigger("indexChange",-1)}),o(".next").on("click",function(){o("body").trigger("indexChange",1)}),o(".play").on("click",function(){a.status?(a.pause(),i.process.stop(),clearInterval(t)):(a.play(),i.process.start(),u()),o(this).toggleClass("playing")})},error:function(n){console.log(n)}})}(window.Zepto);